[{"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/index.js":"1","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/reportWebVitals.js":"2","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/App.js":"3","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/components/viewer/index.jsx":"4","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/components/panel/index.jsx":"5","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/apis/auth.js":"6","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/utils/auth.js":"7","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/utils/localstorage.js":"8","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/utils/utils.js":"9","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/components/header/index.js":"10","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/utils/viewer-extension.js":"11","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/utils/my-awesome-extension.js":"12","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/components/viewer/index_new.jsx":"13","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/Extensions/MyExtension.js":"14"},{"size":665,"mtime":1612529236352,"results":"15","hashOfConfig":"16"},{"size":404,"mtime":1612514866185,"results":"17","hashOfConfig":"16"},{"size":2171,"mtime":1615448124865,"results":"18","hashOfConfig":"16"},{"size":4188,"mtime":1615279554384,"results":"19","hashOfConfig":"16"},{"size":3065,"mtime":1612612716596,"results":"20","hashOfConfig":"16"},{"size":911,"mtime":1612515502996,"results":"21","hashOfConfig":"16"},{"size":214,"mtime":1612515559848,"results":"22","hashOfConfig":"16"},{"size":283,"mtime":1612515559850,"results":"23","hashOfConfig":"16"},{"size":604,"mtime":1612515559852,"results":"24","hashOfConfig":"16"},{"size":1206,"mtime":1612608578669,"results":"25","hashOfConfig":"16"},{"size":572,"mtime":1614761222866,"results":"26","hashOfConfig":"16"},{"size":669,"mtime":1615116023411,"results":"27","hashOfConfig":"16"},{"size":3133,"mtime":1615452427290,"results":"28","hashOfConfig":"16"},{"size":390,"mtime":1615448914300,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1lf8oei",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/index.js",[],["61","62"],"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/reportWebVitals.js",[],"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/App.js",["63","64"],"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/components/viewer/index.jsx",["65","66","67"],"import React, { useEffect, useState } from 'react';\nimport './index.css';\nimport ForgeViewer from 'react-forge-viewer';\nimport LocalStroage from '../../utils/localstorage';\nimport * as THREE from 'three';\n\nfunction Viewer({ currentUrn, currentWidth, currentHeight, currentDeep }) {\n    const [view, setView] = useState(null);\n    const [model, setModel] = useState(null);\n    const [viewer, setViewer] = useState(null);\n    useEffect(() => {\n        if (model != null) {\n            const modelData = model.getData();\n            modelData.instanceTree.enumNodeFragments(\n                3120,\n                fragId => {\n                    let fragProxy = viewer.impl.getFragmentProxy(model, fragId);\n                    fragProxy.getAnimTransform();\n                    console.log(fragProxy);\n                    fragProxy.scale = new THREE.Vector3(currentWidth, currentHeight, currentDeep);\n                    let matrix = new THREE.Matrix4();\n                    fragProxy.getWorldMatrix(matrix);\n                    console.log(matrix);\n                    var position = matrix.getPosition();\n                    console.log(position);\n                    console.log(currentWidth);\n                    fragProxy.position.x = 0;\n                    fragProxy.position.y = 0;\n                    fragProxy.position.z = 0;\n                    fragProxy.updateAnimTransform();\n                },\n                false\n            );\n            viewer.impl.invalidate(true);\n        }\n    }, [currentWidth, currentHeight, currentDeep]);\n    const getForgeToken = () => {\n        return {\n            access_token: LocalStroage.get('access_token'),\n            token_type: 'Bearer',\n            expires_in: 3599,\n        };\n    };\n    const handleTokenRequested = onAccessToken => {\n        if (onAccessToken) {\n            let token = getForgeToken();\n            if (token) onAccessToken(token.access_token, token.expires_in);\n        }\n    };\n    const handleDocumentLoaded = (doc, viewables) => {\n        if (viewables.length === 0) {\n            console.error('Document contains no viewables.');\n        } else {\n            //Select the first viewable in the list to use in our viewer component\n            console.log('Loaded Document:', viewables);\n            setView(viewables[0]);\n        }\n    };\n    const handleModelLoaded = async (viewer, model) => {\n        console.log('Loaded model:', model);\n        setViewer(viewer);\n        setModel(model);\n    };\n    const addGeometry = () => {\n        var geom = new THREE.SphereGeometry(10, 8, 8);\n        var material = new THREE.MeshBasicMaterial({ color: 0xff0000 });\n        var sphereMesh = new THREE.Mesh(geom, material);\n        sphereMesh.position.set(1, 2, 3);\n        if (!viewer.overlays.hasScene('custom-scene')) {\n            viewer.overlays.addScene('custom-scene');\n        }\n        viewer.overlays.addMesh(sphereMesh, 'custom-scene');\n    };\n    const createMaterial = (color = '#73CEFF') => {\n        const material = new THREE.MeshPhongMaterial({\n            side: THREE.DoubleSide,\n            reflectivity: 0.0,\n            flatShading: true,\n            transparent: true,\n            opacity: 0.5,\n            color,\n        });\n        const materials = viewer.impl.matman();\n        const materialName = 'MyCustomMaterial' + color.toString();\n        materials.addMaterial(materialName, material, true);\n        return material;\n    };\n    return (\n        <div className=\"w-full h-full\">\n            <div className=\"w-full h-full relative\">\n                <ForgeViewer\n                    version=\"7.0\"\n                    urn={currentUrn}\n                    view={view}\n                    headless={false}\n                    // onViewerError={this.handleViewerError.bind(this)}\n                    onTokenRequest={handleTokenRequested}\n                    onDocumentLoad={handleDocumentLoaded}\n                    // onDocumentError={this.handleDocumentError.bind(this)}\n                    onModelLoad={handleModelLoaded}\n                    // onModelError={this.handleModelError.bind(this)}\n                ></ForgeViewer>\n            </div>\n        </div>\n    );\n}\n\nexport default Viewer;\n","/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/components/panel/index.jsx",[],"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/apis/auth.js",[],"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/utils/auth.js",[],"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/utils/localstorage.js",[],"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/utils/utils.js",[],"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/components/header/index.js",[],"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/utils/viewer-extension.js",[],"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/utils/my-awesome-extension.js",[],["68","69"],"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/components/viewer/index_new.jsx",["70","71","72"],"/Users/chonwaiun/Desktop/Self/Forge_Viewer_ThreeJS_React/src/Extensions/MyExtension.js",[],{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":2,"column":8,"nodeType":"79","messageId":"80","endLine":2,"endColumn":14},{"ruleId":"77","severity":1,"message":"81","line":9,"column":24,"nodeType":"79","messageId":"80","endLine":9,"endColumn":37},{"ruleId":"82","severity":1,"message":"83","line":36,"column":8,"nodeType":"84","endLine":36,"endColumn":50,"suggestions":"85"},{"ruleId":"77","severity":1,"message":"86","line":64,"column":11,"nodeType":"79","messageId":"80","endLine":64,"endColumn":22},{"ruleId":"77","severity":1,"message":"87","line":74,"column":11,"nodeType":"79","messageId":"80","endLine":74,"endColumn":25},{"ruleId":"73","replacedBy":"88"},{"ruleId":"75","replacedBy":"89"},{"ruleId":"77","severity":1,"message":"90","line":1,"column":28,"nodeType":"79","messageId":"80","endLine":1,"endColumn":36},{"ruleId":"77","severity":1,"message":"91","line":12,"column":9,"nodeType":"79","messageId":"80","endLine":12,"endColumn":25},{"ruleId":"82","severity":1,"message":"92","line":13,"column":13,"nodeType":"93","endLine":13,"endColumn":116},"no-native-reassign",["94"],"no-negated-in-lhs",["95"],"no-unused-vars","'Viewer' is defined but never used.","Identifier","unusedVar","'setCurrentUrn' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'model' and 'viewer.impl'. Either include them or remove the dependency array.","ArrayExpression",["96"],"'addGeometry' is assigned a value but never used.","'createMaterial' is assigned a value but never used.",["94"],["95"],"'useState' is defined but never used.","'embedURLfromA360' is assigned a value but never used.","Assignments to the 'embedURLfromA360' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","Literal","no-global-assign","no-unsafe-negation",{"desc":"97","fix":"98"},"Update the dependencies array to be: [currentWidth, currentHeight, currentDeep, model, viewer.impl]",{"range":"99","text":"100"},[1498,1540],"[currentWidth, currentHeight, currentDeep, model, viewer.impl]"]